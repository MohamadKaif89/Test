{% if product.metafields.custom.add_on_products != blank%}
    <div class="addon-container">
        <h3>Add On Products</h3>

        <div class="addon-row">
            {% for addon in product.metafields.custom.add_on_products.value %}
            <div class="addon-card">

               {% if addon.featured_image %}
                <div class="addon-img">
                    <img src="{{ addon.featured_image  | image_url}}" width="" height="" alt="{{ addon.title }}">
                </div>
                 
               {% endif %}
               <label class="addon-title">
                <input type="checkbox" class="addon-checkbox" data-default-variant="{{ addon.selected_or_first_available_variant.id }}">
                {{ addon.title }}

               </label>
               <div class="addon-price">
                <p>{{ addon.price | money }}</p>
               </div>
                {% if addon.variants.size > 1 %}
                    <select class="addon-variant">
                        {% for variant in addon.variants %}
                            <option value="{{ variant.id }}" {% unless variant.available %}disabled{% endunless %}>
                                {{ variant.title }}

                            </option>                    
                        {% endfor %}
                    </select>
                   
                  
                {% endif %}
                <input type="number" class="addon-quantity" value="1" min="1">

             
            </div>
              
            {% endfor %}
        </div>
    </div>
  
{% endif %}

<style>
    .addon-container{
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 16px;
    }
    .addon-row{
    display: flex;
    gap: 12px;
    flex-direction: column;
}
    .addon-card{
    width: calc(20% - 16px);
    border: 1px solid black;
    text-align: center;
    padding: 12px;
    box-sizing: border-box;
    font-size: 13px;
    }
    .addon-img img{
    width: 100%;
    margin: auto;
    }
    .addon-title{
        display: block;
        margin-bottom: 6px;
        cursor: pointer;
    }
    .addon-price{
        font-size: 13px;
        margin-bottom: 6px;
    }
    .addon-variant, .addon-quantity{
        width: 100%;
        margin-top: 6px;
        font-size: 12px;
        padding: 4px;

    }
    .addon-variant input{
     margin: auto;
    border: 1px solid black;
}
    
</style>